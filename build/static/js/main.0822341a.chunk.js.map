{"version":3,"sources":["components/PersonForm.jsx","components/Filter.jsx","components/PersonList.jsx","components/Notification.jsx","App.jsx","services/persons.js","ContainerApp.jsx","index.jsx"],"names":["PersonForm","handleSubmit","handleChange","person","onSubmit","name","value","onChange","number","type","Filter","handleChandleSearch","textFilter","PersonList","persons","handleClickDelete","map","onClick","id","Notification","notificationMessage","notification","backgroundColor","borderStyle","borderRadius","paddingLeft","paddingRight","success","borderColor","color","error","message","length","style","App","handleChangeNewPerson","newPerson","handleChangeSearch","personsToShow","display","flexDirection","alignItems","ROOT_PATH","getPersonsList","axios","get","then","response","data","catch","console","log","ContainerApp","useState","setPersons","setPersonsToShow","setNewPerson","setTextFilter","setNotificationMessage","useEffect","sendNotification","setTimeout","e","preventDefault","filter","confirm","put","returnedPerson","post","createPerson","concat","target","toLowerCase","includes","dataset","delete","finally","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0822341a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = ({ handleSubmit, handleChange, person }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input name='name' value={person.name} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        number:{' '}\r\n        <input name='number' value={person.number} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        <button type='submit'>add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ handleChandleSearch, textFilter }) => {\r\n  return (\r\n    <div>\r\n      filter:{' '}\r\n      <input type=\"search\" onChange={handleChandleSearch} value={textFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonList = ({ persons, handleClickDelete }) => {\r\n  if (typeof persons === 'undefined') return '';\r\n  return persons.map(person => (\r\n    <p key={person.id}>\r\n      {person.name} : {person.number}\r\n      <button\r\n        onClick={handleClickDelete}\r\n        data-id={person.id}\r\n        data-name={person.name}\r\n      >\r\n        delete\r\n      </button>\r\n    </p>\r\n  ));\r\n};\r\n\r\nexport default PersonList;\r\n","import React from 'react';\r\n\r\nexport default function Notification({ notificationMessage }) {\r\n  const notification = {\r\n    backgroundColor: '#D3D3D3',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    paddingLeft: '15px',\r\n    paddingRight: '15px',\r\n  };\r\n  const success = {\r\n    ...notification,\r\n    borderColor: '#077E06',\r\n    color: '077E06',\r\n  };\r\n  const error = {\r\n    ...notification,\r\n    borderColor: '#FF0101',\r\n    color: 'FF0101',\r\n  };\r\n  if (notificationMessage.message.length === 0) return '';\r\n  return (\r\n    <div>\r\n      <h3 style={notificationMessage.type === 'success' ? success : error}>\r\n        {notificationMessage.message}\r\n      </h3>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport PersonList from './components/PersonList';\nimport Notification from './components/Notification';\nconst App = ({\n  handleSubmit,\n  handleChangeNewPerson,\n  newPerson,\n  handleChangeSearch,\n  textFilter,\n  personsToShow,\n  handleClickDelete,\n  notificationMessage,\n}) => {\n  return (\n    <div\n      style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}\n    >\n      <h2>Phonebook</h2>\n      <Notification notificationMessage={notificationMessage} />\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleChange={handleChangeNewPerson}\n        person={newPerson}\n      />\n      <h2>Numbers</h2>\n      <Filter\n        handleChandleSearch={handleChangeSearch}\n        textFilter={textFilter}\n      />\n      <PersonList\n        persons={personsToShow}\n        handleClickDelete={handleClickDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import axios from 'axios';\r\n\r\n//const ROOT_PATH = 'http://localhost:3001/api';\r\n//const ROOT_PATH = 'https://lit-taiga-49599.herokuapp.com/api';\r\nconst ROOT_PATH = '/api';\r\nexport const getPersonsList = () => {\r\n  return axios\r\n    .get(`${ROOT_PATH}/persons`)\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n    .catch(error => {\r\n      console.log(`${error}`);\r\n      1;\r\n    });\r\n};\r\n\r\nexport const createPerson = data => {\r\n  return axios\r\n    .post(`${ROOT_PATH}/persons`, data)\r\n    .then(response => {\r\n      //console.log(response);\r\n      return response.data;\r\n    })\r\n    .catch(error => {\r\n      console.log(`${error}`);\r\n    });\r\n};\r\n\r\nexport const deletePerson = id => {\r\n  return axios\r\n    .delete(`${ROOT_PATH}/persons/${id}`)\r\n    .then(response => {\r\n      console.log(response);\r\n      return response.data;\r\n    })\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n};\r\n\r\nexport const updatePerson = (id, data) => {\r\n  return axios\r\n    .put(`${ROOT_PATH}/persons/${id}`, data)\r\n    .then(response => {\r\n      console.log(response);\r\n      return response.data;\r\n    })\r\n    .catch(error => {\r\n      console.log(` ${error}`);\r\n    });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport App from './App';\r\nimport {\r\n  getPersonsList,\r\n  createPerson,\r\n  deletePerson,\r\n  updatePerson,\r\n} from './services/persons';\r\n\r\nexport default function ContainerApp() {\r\n  const [persons, setPersons] = useState([]);\r\n  const [personsToShow, setPersonsToShow] = useState([]);\r\n  const [newPerson, setNewPerson] = useState({ name: '', number: '' });\r\n  const [textFilter, setTextFilter] = useState('');\r\n  const [notificationMessage, setNotificationMessage] = useState({\r\n    message: '',\r\n    type: '',\r\n  });\r\n  useEffect(() => {\r\n    getPersonsList().then(persons => {\r\n      setPersons(persons);\r\n      setPersonsToShow(persons);\r\n    });\r\n  }, []);\r\n  const handleChangeSearch = e => {\r\n    setTextFilter(e.target.value);\r\n    setPersonsToShow(\r\n      persons.filter(person => {\r\n        return person.name.toLowerCase().includes(e.target.value);\r\n      })\r\n    );\r\n  };\r\n\r\n  const sendNotification = (message, type) => {\r\n    setNotificationMessage({ message, type });\r\n    setTimeout(() => {\r\n      setNotificationMessage({ message: '', type: '' });\r\n    }, 2500);\r\n  };\r\n  const handleClickDelete = e => {\r\n    console.log(e.target.dataset.id);\r\n    console.log(e.target.dataset.name);\r\n    if (confirm(`Delete ${e.target.dataset.name} ?`)) {\r\n      deletePerson(e.target.dataset.id)\r\n        .then(response => {\r\n          console.log(`${response}`);\r\n          sendNotification(\r\n            `the person '${e.target.dataset.name}' was deleted from server`,\r\n            'success'\r\n          );\r\n        })\r\n        .catch(error => {\r\n          console.log(`${error}`);\r\n          sendNotification(\r\n            `the person '${e.target.dataset.name}' was already deleted from server`,\r\n            'error'\r\n          );\r\n        })\r\n        .finally(() => {\r\n          getPersonsList().then(persons => {\r\n            setPersons(persons);\r\n            setPersonsToShow(persons);\r\n          });\r\n        });\r\n    }\r\n  };\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    let person = persons.filter(person => person.name === newPerson.name)[0];\r\n    console.log(person);\r\n    if (typeof person !== 'undefined') {\r\n      if (\r\n        confirm(\r\n          `${person.name} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        updatePerson(person.id, newPerson).then(returnedPerson => {\r\n          console.log(returnedPerson);\r\n          getPersonsList().then(persons => {\r\n            setPersons(persons);\r\n            setPersonsToShow(persons);\r\n          });\r\n          sendNotification(`Updated ${newPerson.name}`, 'success');\r\n          setTextFilter('');\r\n          setNewPerson({ name: '', number: '' });\r\n          /*\r\n          setPersons(prevPersons =>\r\n            prevPersons.map(person =>\r\n              person.id !== newPerson.id ? person : returnedPerson\r\n            )\r\n          );\r\n          setPersonsToShow(prevPersons =>\r\n            prevPersons.map(person =>\r\n              person.id !== newPerson.id ? person : returnedPerson\r\n            )\r\n          );\r\n          */\r\n        });\r\n      }\r\n    } else {\r\n      createPerson(newPerson).then(response => {\r\n        setPersons(persons.concat(response));\r\n        setPersonsToShow(persons.concat(response));\r\n        setNewPerson({ name: '', number: '' });\r\n        setTextFilter('');\r\n        sendNotification(`Added ${newPerson.name}`, 'success');\r\n      });\r\n    }\r\n  };\r\n  const handleChangeNewPerson = e => {\r\n    setNewPerson({\r\n      ...newPerson,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  return (\r\n    <App\r\n      handleSubmit={handleSubmit}\r\n      handleChangeNewPerson={handleChangeNewPerson}\r\n      newPerson={newPerson}\r\n      handleChangeSearch={handleChangeSearch}\r\n      textFilter={textFilter}\r\n      personsToShow={personsToShow}\r\n      handleClickDelete={handleClickDelete}\r\n      notificationMessage={notificationMessage}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ContainerApp from './ContainerApp';\n\nReactDOM.render(<ContainerApp />, document.getElementById('root'));\n"],"sourceRoot":""}